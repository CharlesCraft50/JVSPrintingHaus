/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/html-to-image@1.11.11/lib/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __awaiter=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,a){function i(t){try{u(o.next(t))}catch(t){a(t)}}function s(t){try{u(o.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}u((o=o.apply(t,e||[])).next())}))},__generator=this&&this.__generator||function(t,e){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFontEmbedCSS=exports.toBlob=exports.toJpeg=exports.toPng=exports.toPixelData=exports.toCanvas=exports.toSvg=void 0;var clone_node_1=require("./clone-node"),embed_images_1=require("./embed-images"),apply_style_1=require("./apply-style"),embed_webfonts_1=require("./embed-webfonts"),util_1=require("./util");function toSvg(t,e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,(function(){var n,o,r,a;return __generator(this,(function(i){switch(i.label){case 0:return n=(0,util_1.getImageSize)(t,e),o=n.width,r=n.height,[4,(0,clone_node_1.cloneNode)(t,e,!0)];case 1:return a=i.sent(),[4,(0,embed_webfonts_1.embedWebFonts)(a,e)];case 2:return i.sent(),[4,(0,embed_images_1.embedImages)(a,e)];case 3:return i.sent(),(0,apply_style_1.applyStyle)(a,e),[4,(0,util_1.nodeToDataURL)(a,o,r)];case 4:return[2,i.sent()]}}))}))}function toCanvas(t,e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,(function(){var n,o,r,a,i,s,u,c,l,_;return __generator(this,(function(d){switch(d.label){case 0:return n=(0,util_1.getImageSize)(t,e),o=n.width,r=n.height,[4,toSvg(t,e)];case 1:return a=d.sent(),[4,(0,util_1.createImage)(a)];case 2:return i=d.sent(),s=document.createElement("canvas"),u=s.getContext("2d"),c=e.pixelRatio||(0,util_1.getPixelRatio)(),l=e.canvasWidth||o,_=e.canvasHeight||r,s.width=l*c,s.height=_*c,e.skipAutoScale||(0,util_1.checkCanvasDimensions)(s),s.style.width="".concat(l),s.style.height="".concat(_),e.backgroundColor&&(u.fillStyle=e.backgroundColor,u.fillRect(0,0,s.width,s.height)),u.drawImage(i,0,0,s.width,s.height),[2,s]}}))}))}function toPixelData(t,e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,(function(){var n,o,r,a;return __generator(this,(function(i){switch(i.label){case 0:return n=(0,util_1.getImageSize)(t,e),o=n.width,r=n.height,[4,toCanvas(t,e)];case 1:return a=i.sent(),[2,a.getContext("2d").getImageData(0,0,o,r).data]}}))}))}function toPng(t,e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return[4,toCanvas(t,e)];case 1:return[2,n.sent().toDataURL()]}}))}))}function toJpeg(t,e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return[4,toCanvas(t,e)];case 1:return[2,n.sent().toDataURL("image/jpeg",e.quality||1)]}}))}))}function toBlob(t,e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(o){switch(o.label){case 0:return[4,toCanvas(t,e)];case 1:return n=o.sent(),[4,(0,util_1.canvasToBlob)(n)];case 2:return[2,o.sent()]}}))}))}function getFontEmbedCSS(t,e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){return[2,(0,embed_webfonts_1.getWebFontCSS)(t,e)]}))}))}exports.toSvg=toSvg,exports.toCanvas=toCanvas,exports.toPixelData=toPixelData,exports.toPng=toPng,exports.toJpeg=toJpeg,exports.toBlob=toBlob,exports.getFontEmbedCSS=getFontEmbedCSS;
//# sourceMappingURL=/sm/4f6609c1d5ce6c70ae7bca24f3c172e38fd7d36870b7f28ecde62ec326a9e5d1.map